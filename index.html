<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paradise</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.0/socket.io.js"></script>
</head>
<body>

  <!-- Ğ•ĞºÑ€Ğ°Ğ½ Ğ²Ñ…Ğ¾Ğ´Ñƒ -->
  <div class="login-screen" id="loginScreen">
    <h2>Ğ’Ñ…Ñ–Ğ´ Ñƒ Ğ¿Ğ°Ñ€Ğ°Ğ´Ğ°Ğ¹Ğ·</h2>
    <input type="password" id="passwordInput" placeholder="Ğ’Ğ²ĞµĞ´Ñ–Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ" />
    <div id="nicknameSelection" style="display: none;">
      <p>Ğ’Ğ¸Ğ±ĞµÑ€Ğ¸ ÑĞ²Ñ–Ğ¹ Ğ½Ñ–ĞºĞ½ĞµĞ¹Ğ¼ Ğ¼Ğ°Ğ½ÑĞ½Ñ Ğ¼Ğ¾Ñ:</p>
      <button onclick="chooseNickname('Baby ğŸ˜')">Baby ğŸ˜</button>
      <button onclick="chooseNickname('Pink Cloud â˜ï¸')">Pink Cloud â˜ï¸</button>
    </div>
    <button id="loginButton" onclick="checkPassword()">Ğ£Ğ²Ñ–Ğ¹Ñ‚Ğ¸</button>
    <p id="loginError" style="color:red;"></p>
  </div>

  <!-- Ğ§Ğ°Ñ‚ -->
  <div class="chat-container" id="chatContainer" style="display: none;">
    <h1>ğŸŒ¸ â¤ Rakhiv Paradise â¤ ğŸŒ¸</h1>
    <button id="openGalleryBtn" class="gallery-toggle-btn">ğŸ–¼ï¸</button>
    <div id="chat" class="chat-box"></div>
    <div class="media-controls-area">
      <div class="items">
          <button class="item-btn" onclick="playMusic('audio/Autumn-love.m4a', this)">ğŸ‚Ğ›ÑĞ±Ğ¾Ğ² ÑĞº Ğ¾ÑÑ–Ğ½ÑŒğŸ‚</button>
          <button class="item-btn" onclick="playMusic('audio/Bounty.mp3', this)">ğŸ’–BountyğŸ’–</button>
          <button class="item-btn" onclick="playMusic('audio/Drevo.mp3', this)">ğŸŒ Ğ¡Ğ¼Ğ°Ñ€Ğ°Ğ³Ğ´Ğ¾Ğ²Ğµ Ğ½ĞµĞ±Ğ¾ğŸŒ </button>
          <button class="item-btn" onclick="playMusic('audio/MBreeze.mp3', this)">ğŸ¤—ĞšĞ¾Ğ¶ĞµĞ½ Ğ´ĞµĞ½ÑŒğŸ¤—</button>
          <button class="item-btn" onclick="playMusic('audio/SoulScream.mp3', this)">ğŸŒŒĞšÑ€Ğ¸Ğº Ñƒ Ğ¿Ğ¾Ñ€Ğ¾Ğ¶Ğ½ĞµÑ‡ÑƒğŸŒŒ</button>
          <button class="item-btn" onclick="playMusic('audio/WhenYouSmile.mp3', this)">ğŸ˜ŠĞšĞ¾Ğ»Ğ¸ Ñ‚Ğ¸ Ğ¿Ğ¾ÑĞ¼Ñ–Ñ…Ğ°Ñ”ÑˆÑÑğŸ˜Š</button>          
          <button class="item-btn" onclick="playMusic('audio/song7.mp3', this)">ğŸ§Ñ– Ñ‚ÑƒÑ‚</button>
          <button class="item-btn" onclick="playMusic('audio/song8.mp3', this)">ğŸ·Ñ– Ñ‚ÑƒÑ‚</button>
          <button class="item-btn" onclick="playMusic('audio/song9.mp3', this)">ğŸºÑ– Ñ‚ÑƒÑ‚</button>
      </div>
      <div class="volume-control">
        <button id="volumeToggleButton" class="item-btn">ğŸ”Š</button>
        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.01" style="display: none;">
      </div>
    </div>
    <div class="input-controls">
      <textarea class="chat-input" id="msgInput" placeholder="ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ..." rows="1"></textarea>
      <input type="file" id="imageInput" accept="image/*" style="display: none;">
      <button id="attachImageBtn" class="attach-btn">ğŸ“</button>
      <button class="chat-button">ğŸ’¬</button>
    </div>
    <div class="status-messages-container">
      <div id="users-online" class="users-online"></div>
      <div id="typing-indicator" class="users-online"></div>
    </div>
  </div>

  <!-- ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğµ Ğ²Ñ–ĞºĞ½Ğ¾ Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ— -->
  <div id="imageGalleryModal" class="gallery-modal" style="display: none;">
    <button id="closeGalleryBtn" class="gallery-close-btn">&times;</button>
    <div class="gallery-content">
      <button id="prevImageBtn" class="gallery-nav-btn prev-btn" aria-label="Previous image">&lt;</button>
      <div class="gallery-images-container" id="galleryImagesContainer">
        <!-- Ğ—Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ±ÑƒĞ´ÑƒÑ‚ÑŒ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ñ– ÑÑĞ´Ğ¸ Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ JavaScript -->
      </div>
      <button id="nextImageBtn" class="gallery-nav-btn next-btn" aria-label="Next image">&gt;</button>
    </div>
  </div>
  <script>
    let selectedNickname = null;
    let socket = null;
    // ĞĞ³Ğ¾Ğ»Ğ¾ÑˆÑƒÑ”Ğ¼Ğ¾ Ğ¿Ğ»ĞµÑ”Ñ€ Ñ‚Ğ° Ğ¿Ğ¾Ğ²'ÑĞ·Ğ°Ğ½Ñ– Ğ·Ğ¼Ñ–Ğ½Ğ½Ñ– Ñ‚ÑƒÑ‚, Ñ‰Ğ¾Ğ± Ğ²Ğ¾Ğ½Ğ¸ Ğ±ÑƒĞ»Ğ¸ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ– Ğ² Ğ¼ĞµĞ¶Ğ°Ñ… ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°
    const musicPlayer = new Audio();
    let currentPlayingButton = null;
    let currentSongSrc = null;

    const avatars = {
     "Baby ğŸ˜": "ğŸ˜",
     "Pink Cloud â˜ï¸": "â˜ï¸"
    };
    
    const userColors = {
     "Baby ğŸ˜": "message-baby",
     "Pink Cloud â˜ï¸": "message-cloud"
    };

    function checkPassword() {
      const password = document.getElementById('passwordInput').value;
      const loginButton = document.getElementById('loginButton');
      if (password === "26060512") {
        document.getElementById('nicknameSelection').style.display = "block";
  passwordInput.style.display = "none"; // ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ Ğ¿Ğ¾Ğ»Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
  loginButton.style.display = "none";   // ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "Ğ£Ğ²Ñ–Ğ¹Ñ‚Ğ¸"
  document.getElementById('loginError').textContent = "";
      } else {
        document.getElementById('loginError').textContent = "ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ.";
      }
    }

    function chooseNickname(nick) {
      selectedNickname = nick;
      document.getElementById('loginScreen').style.display = "none";
      document.getElementById('chatContainer').style.display = "flex";
      startChat();
    }

    function startChat() {
      socket = io("https://cloud-baby.onrender.com", {
        transports: ["websocket"]
      });

      socket.emit("register", selectedNickname); // Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ”Ğ¼Ğ¾ Ğ½Ñ–Ğº

      socket.on("chat_history", (messages) => {
      messages.forEach((data) => {
      const div = document.createElement("div");
      div.textContent = `${avatars[data.user] || "ğŸ‘¤"} ${data.user}: ${data.text}`;
      div.classList.add("message");

      const colorClass = userColors[data.user];
      if (colorClass) div.classList.add(colorClass);

      chat.appendChild(div);
    });
    scrollToBottom();
  });


      socket.on("message", (data) => {
        const messageDiv = document.createElement("div");
        messageDiv.classList.add("message");

        const colorClass = userColors[data.user];
        if (colorClass) messageDiv.classList.add(colorClass);

        if (data.type === 'image' && data.image) {
          const img = document.createElement('img');
          img.src = data.image;
          img.alt = "Ğ—Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ²Ñ–Ğ´ " + data.user;
          img.classList.add('chat-image-thumbnail');
          img.onclick = () => openImageInModal(data.image);
          
          const senderInfo = document.createElement('span');
          senderInfo.textContent = `${avatars[data.user] || "ğŸ‘¤"} ${data.user}: `;
          senderInfo.classList.add('message-sender');
          
          messageDiv.appendChild(senderInfo);
          messageDiv.appendChild(img);
        } else {
          messageDiv.textContent = `${avatars[data.user] || "ğŸ‘¤"} ${data.user}: ${data.text}`;
        }

        chat.appendChild(messageDiv);
        scrollToBottom();
      });
      socket.on("chat_history", (messages) => { // ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ Ğ² Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ—
        messages.forEach(renderMessage); // Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ Ğ½Ğ¾Ğ²Ñƒ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ renderMessage
        scrollToBottom();
      });

      socket.on("users_online", (users) => {
        const usersOnlineDiv = document.getElementById('users-online');
        let displayString = "";

        const hasBaby = users.includes("Baby ğŸ˜");
        const hasCloud = users.includes("Pink Cloud â˜ï¸");

        if (hasBaby && hasCloud) {
          displayString = `
            <div class="finger-lightning-container">
              <div class="finger left">ğŸ‘‰</div>
              <div class="lightning"></div>
              <div class="finger right">ğŸ‘ˆ</div>
            </div>
          `;
        } else if (hasBaby) {
          displayString = `<div class="finger-lightning-container"><div>ğŸ‘‰</div></div>`;
        } else if (hasCloud) {
          displayString = `<div class="finger-lightning-container"><div>ğŸ‘ˆ</div></div>`;
        }
        
        usersOnlineDiv.innerHTML = displayString || "ĞÑ–ĞºĞ¾Ğ³Ğ¾ Ğ½ĞµĞ¼Ğ°Ñ” Ğ² Ğ¼ĞµÑ€ĞµĞ¶Ñ–";
      });

      socket.on("typing", (data) => {
        const typingDiv = document.getElementById("typing-indicator");
        if (data.typing) {
          typingDiv.textContent = `${data.user} ÑˆĞ¾ÑÑŒ Ñ‚Ğ°Ğ¼ Ñ†Ñ–ĞºĞ°Ğ²ĞµĞ½ÑŒĞºĞµ Ğ¿Ğ¸ÑˆĞµ...Ğ»ÑĞ±Ğ»ÑÑ‡Ğ¸ Ñ‚ĞµĞ±Ğµ Ğ´ÑƒĞ¶Ğµ ÑĞ¸Ğ»ÑŒĞ½Ğ¾!`;
        } else {
          typingDiv.textContent = "";
        }
      });

      socket.emit("get_history");

      const msgInput = document.getElementById("msgInput");
      let typingTimeout;

      msgInput.addEventListener("input", () => {
        socket.emit("typing", true);
        clearTimeout(typingTimeout);
        typingTimeout = setTimeout(() => {
          socket.emit("typing", false);
        }, 2000);
      });

      msgInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && !e.shiftKey) {
          e.preventDefault();
          sendMessage();
        }
      });

      document.querySelector(".chat-button").addEventListener("click", () => sendMessage());
      
      const attachImageBtn = document.getElementById('attachImageBtn');
      const imageInput = document.getElementById('imageInput');

      attachImageBtn.addEventListener('click', () => {
        imageInput.click(); // Ğ’Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸ Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³ Ğ²Ğ¸Ğ±Ğ¾Ñ€Ñƒ Ñ„Ğ°Ğ¹Ğ»Ñƒ
      });

      imageInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        if (file && file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = function(e) {
            const imageDataUrl = e.target.result;
            // Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ”Ğ¼Ğ¾ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€
            socket.emit("message", { type: 'image', image: imageDataUrl });
          }
          reader.readAsDataURL(file);
          imageInput.value = ''; // Ğ¡ĞºĞ¸Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ñ–Ğ½Ğ¿ÑƒÑ‚Ñƒ, Ñ‰Ğ¾Ğ± Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ±ÑƒĞ»Ğ¾ Ğ²Ğ¸Ğ±Ñ€Ğ°Ñ‚Ğ¸ Ñ‚Ğ¾Ğ¹ ÑĞ°Ğ¼Ğ¸Ğ¹ Ñ„Ğ°Ğ¹Ğ» Ğ·Ğ½Ğ¾Ğ²Ñƒ
        }
      });
    }

    // Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ´Ğ»Ñ Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³Ñƒ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ (Ñ‚ĞµĞºÑÑ‚ Ğ°Ğ±Ğ¾ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ)
    function renderMessage(data) {
      const messageDiv = document.createElement("div");
      messageDiv.classList.add("message");
      const colorClass = userColors[data.user];
      if (colorClass) messageDiv.classList.add(colorClass);

      if (data.type === 'image' && data.image) {
        const img = document.createElement('img');
        img.src = data.image;
        img.alt = "Ğ—Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ²Ñ–Ğ´ " + data.user;
        img.classList.add('chat-image-thumbnail');
        img.onclick = () => openImageInModal(data.image);
        messageDiv.appendChild(document.createTextNode(`${avatars[data.user] || "ğŸ‘¤"} ${data.user}: `));
        messageDiv.appendChild(img);
      } else {
        messageDiv.textContent = `${avatars[data.user] || "ğŸ‘¤"} ${data.user}: ${data.text}`;
      }
      chat.appendChild(messageDiv);
    }

    function sendMessage() {
      const msgInput = document.getElementById("msgInput");
      const msg = msgInput.value.trim();
      if (msg && socket) {
        socket.emit("message", { type: 'text', text: msg }); // Ğ¢ĞµĞ¿ĞµÑ€ Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ”Ğ¼Ğ¾ Ğ¾Ğ±'Ñ”ĞºÑ‚
        msgInput.value = "";
      }
    }

    function scrollToBottom() {
      const chatBox = document.getElementById("chat");
      chatBox.scrollTop = chatBox.scrollHeight;
    }

        function playMusic(songSrc, buttonElement) {
      if (musicPlayer.src.includes(songSrc) && !musicPlayer.paused) {
        // Ğ¢Ğ° ÑĞ°Ğ¼Ğ° Ğ¿Ñ–ÑĞ½Ñ Ğ³Ñ€Ğ°Ñ”, ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼Ğ¾ Ğ½Ğ° Ğ¿Ğ°ÑƒĞ·Ñƒ
        musicPlayer.pause();
        buttonElement.classList.remove('playing');
        currentPlayingButton = null;
      } else if (musicPlayer.src.includes(songSrc) && musicPlayer.paused) {
        // Ğ¢Ğ° ÑĞ°Ğ¼Ğ° Ğ¿Ñ–ÑĞ½Ñ Ğ½Ğ° Ğ¿Ğ°ÑƒĞ·Ñ–, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ÑƒÑ”Ğ¼Ğ¾ Ğ²Ñ–Ğ´Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ
        musicPlayer.play()
          .then(() => {
            if (currentPlayingButton && currentPlayingButton !== buttonElement) {
              currentPlayingButton.classList.remove('playing');
            }
            buttonElement.classList.add('playing');
            currentPlayingButton = buttonElement;
          })
          .catch(error => console.error("ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ĞµĞ½Ğ½Ñ Ğ°ÑƒĞ´Ñ–Ğ¾:", error));
      } else {
        // ĞĞ¾Ğ²Ğ° Ğ¿Ñ–ÑĞ½Ñ Ğ°Ğ±Ğ¾ Ñ–Ğ½ÑˆĞ° Ğ²Ğ¸Ğ±Ñ€Ğ°Ğ½Ğ°
        if (currentPlayingButton) {
          currentPlayingButton.classList.remove('playing');
        }
        
        musicPlayer.src = songSrc;
        currentSongSrc = songSrc;
        musicPlayer.play()
          .then(() => {
            buttonElement.classList.add('playing');
            currentPlayingButton = buttonElement;
          })
          .catch(error => {
            console.error("ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ²Ñ–Ğ´Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ°ÑƒĞ´Ñ–Ğ¾:", error);
            currentSongSrc = null;
          });
      }
    }

    musicPlayer.onended = function() {
      if (currentPlayingButton) {
        currentPlayingButton.classList.remove('playing');
        currentPlayingButton = null;
      }
      currentSongSrc = null;
    };

    // --- ĞšĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ³ÑƒÑ‡Ğ½Ñ–ÑÑ‚Ñ ---
    const volumeToggleButton = document.getElementById('volumeToggleButton');
    const volumeSlider = document.getElementById('volumeSlider');

    function updateVolumeIcon(volume) {
      if (volume === 0) {
        volumeToggleButton.textContent = 'ğŸ”‡';
      } else if (volume <= 0.33) {
        volumeToggleButton.textContent = 'ğŸ”ˆ';
      } else if (volume <= 0.66) {
        volumeToggleButton.textContent = 'ğŸ”‰';
      } else {
        volumeToggleButton.textContent = 'ğŸ”Š';
      }
    }

    // Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ğ³ÑƒÑ‡Ğ½Ğ¾ÑÑ‚Ñ–
    let initialVolume = parseFloat(localStorage.getItem('playerVolume'));
    if (isNaN(initialVolume) || initialVolume < 0 || initialVolume > 1) {
      initialVolume = 0.5; // Ğ“ÑƒÑ‡Ğ½Ñ–ÑÑ‚ÑŒ Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼
    }
    musicPlayer.volume = initialVolume;
    volumeSlider.value = initialVolume;
    updateVolumeIcon(initialVolume);

    volumeToggleButton.addEventListener('click', () => {
      if (volumeSlider.style.display === 'none') {
        volumeSlider.style.display = 'inline-block'; // ĞĞ±Ğ¾ 'block' Ñ‡Ğ¸ 'flex' Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ Ğ²Ñ–Ğ´ Ğ±Ğ°Ğ¶Ğ°Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸Ğ³Ğ»ÑĞ´Ñƒ
      } else {
        volumeSlider.style.display = 'none';
      }
    });

    volumeSlider.addEventListener('input', function() {
      musicPlayer.volume = this.value;
      updateVolumeIcon(parseFloat(this.value));
      localStorage.setItem('playerVolume', this.value);
    });

    // Ğ—Ğ°ĞºÑ€Ğ¸Ğ²Ğ°Ñ‚Ğ¸ ÑĞ»Ğ°Ğ¹Ğ´ĞµÑ€ Ğ³ÑƒÑ‡Ğ½Ğ¾ÑÑ‚Ñ–, ÑĞºÑ‰Ğ¾ ĞºĞ»Ñ–ĞºĞ½ÑƒÑ‚Ğ¸ Ğ´ĞµÑ–Ğ½Ğ´Ğµ (Ğ¾Ğ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
    // document.addEventListener('click', function(event) {
    //   if (!volumeControl.contains(event.target) && volumeSlider.style.display !== 'none') {
    //     volumeSlider.style.display = 'none';
    //   }
    // });

    // --- Ğ“Ğ°Ğ»ĞµÑ€ĞµÑ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ ---
    const openGalleryBtn = document.getElementById('openGalleryBtn');
    const closeGalleryBtn = document.getElementById('closeGalleryBtn');
    const imageGalleryModal = document.getElementById('imageGalleryModal');
    const galleryImagesContainer = document.getElementById('galleryImagesContainer');
    const prevImageBtn = document.getElementById('prevImageBtn');
    const nextImageBtn = document.getElementById('nextImageBtn');

    // Ğ—ĞĞœĞ†ĞĞ˜ Ğ¦Ğ† Ğ¨Ğ›Ğ¯Ğ¥Ğ˜ ĞĞ Ğ¡Ğ’ĞĞ‡ Ğ—ĞĞ‘Ğ ĞĞ–Ğ•ĞĞĞ¯ Ğ’ ĞŸĞĞŸĞ¦Ğ† 'img'
    const galleryImageSources = [
      'img/1.jpg',
      'img/2.jpg',
      'img/3.jpg',
      'img/4.jpg',
      'img/5.jpg',
      'img/6.jpg',
      'img/7.jpg',
      'img/8.jpg',
      'img/9.jpg',
      'img/10.jpg'
      // Ğ”Ğ¾Ğ´Ğ°Ğ¹ Ğ±Ñ–Ğ»ÑŒÑˆĞµ ÑˆĞ»ÑÑ…Ñ–Ğ² Ğ´Ğ¾ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ Ñ‚ÑƒÑ‚
    ];
    let imagesInGalleryLoaded = false;

    function populateGallery() {
      if (imagesInGalleryLoaded) return;
      galleryImagesContainer.innerHTML = ''; // ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚Ğ¸ Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½Ñ–, ÑĞºÑ‰Ğ¾ Ñ”
      galleryImageSources.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        img.alt = "Ğ—Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ· Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ—";
        galleryImagesContainer.appendChild(img);
      });
      imagesInGalleryLoaded = true;
    }

    openGalleryBtn.addEventListener('click', () => {
      populateGallery();
      imageGalleryModal.style.display = 'flex'; // Ğ¡Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ Ñ€Ğ¾Ğ±Ğ¸Ğ¼Ğ¾ Ğ±Ğ»Ğ¾Ğº Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¸Ğ¼
      imageGalleryModal.classList.remove('hide'); // Ğ’Ğ¸Ğ´Ğ°Ğ»Ğ¸Ñ‚Ğ¸ ĞºĞ»Ğ°Ñ hide, ÑĞºÑ‰Ğ¾ Ğ²Ñ–Ğ½ Ñ”
      imageGalleryModal.classList.add('show');
      document.body.style.overflow = 'hidden'; // Ğ—Ğ°Ğ¿Ğ¾Ğ±Ñ–Ğ³Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‚Ñ†Ñ– Ñ„Ğ¾Ğ½Ñƒ
    });

    closeGalleryBtn.addEventListener('click', () => {
      imageGalleryModal.classList.remove('show');
      imageGalleryModal.classList.add('hide');
      
      // Ğ—Ğ°Ñ‡ĞµĞºĞ°Ñ‚Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ Ğ°Ğ½Ñ–Ğ¼Ğ°Ñ†Ñ–Ñ— Ğ¿ĞµÑ€ĞµĞ´ Ñ‚Ğ¸Ğ¼, ÑĞº Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ñ‚Ğ¸ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚ Ñ– Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‚ĞºÑƒ
      setTimeout(() => {
        // Ğ¯ĞºÑ‰Ğ¾ Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ Ğ²ÑĞµ Ñ‰Ğµ Ğ¼Ğ°Ñ” ĞºĞ»Ğ°Ñ 'hide' (Ñ‚Ğ¾Ğ±Ñ‚Ğ¾ Ğ½Ğµ Ğ±ÑƒĞ»Ğ° Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ° Ğ·Ğ½Ğ¾Ğ²Ñƒ Ğ¿Ñ–Ğ´ Ñ‡Ğ°Ñ Ğ°Ğ½Ñ–Ğ¼Ğ°Ñ†Ñ–Ñ—)
        if (imageGalleryModal.classList.contains('hide')) {
          imageGalleryModal.style.display = 'none'; // ĞÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚
        }
        document.body.style.overflow = 'auto'; // Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‚ĞºÑƒ Ñ„Ğ¾Ğ½Ñƒ
      }, 400); // Ğ§Ğ°Ñ Ğ¼Ğ°Ñ” Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ‚Ğ¸ Ñ‚Ñ€Ğ¸Ğ²Ğ°Ğ»Ğ¾ÑÑ‚Ñ– Ğ°Ğ½Ñ–Ğ¼Ğ°Ñ†Ñ–Ñ— fadeOutModal

    });

    prevImageBtn.addEventListener('click', () => {
      galleryImagesContainer.scrollBy({ left: -galleryImagesContainer.clientWidth, behavior: 'smooth' });
    });

    nextImageBtn.addEventListener('click', () => {
      galleryImagesContainer.scrollBy({ left: galleryImagesContainer.clientWidth, behavior: 'smooth' });
    });
  </script>
  <script>
    // Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ´Ğ»Ñ Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ² Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ğ²Ñ–ĞºĞ½Ñ– (Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€Ğ¸Ñ‚Ğ¸ Ñ–ÑĞ½ÑƒÑÑ‡Ñƒ Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ)
    function openImageInModal(imageSrc) {
      // ĞŸÑ€Ğ¾ÑÑ‚Ğ¸Ğ¹ Ğ²Ğ°Ñ€Ñ–Ğ°Ğ½Ñ‚: Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ Ñ–ÑĞ½ÑƒÑÑ‡Ñƒ Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ, Ğ¿Ğ¾ĞºĞ°Ğ·ÑƒÑÑ‡Ğ¸ Ğ»Ğ¸ÑˆĞµ Ğ¾Ğ´Ğ½Ğµ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ
      // ĞĞ±Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ° ÑÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ¾ĞºÑ€ĞµĞ¼Ğµ Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğµ Ğ²Ñ–ĞºĞ½Ğ¾ Ğ´Ğ»Ñ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ
      const galleryModal = document.getElementById('imageGalleryModal');
      const galleryContainer = document.getElementById('galleryImagesContainer');
      
      galleryContainer.innerHTML = ''; // ĞÑ‡Ğ¸Ñ‰Ğ°Ñ”Ğ¼Ğ¾ Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½Ñ– Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ
      const img = document.createElement('img');
      img.src = imageSrc;
      img.alt = "Ğ—Ğ±Ñ–Ğ»ÑŒÑˆĞµĞ½Ğµ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ";
      galleryContainer.appendChild(img);
      
      galleryModal.classList.remove('hide');
      galleryModal.classList.add('show');
      document.body.style.overflow = 'hidden';
    }
  </script>

</body>
</html>
